2022-02-23  Robert Jenner  <Jenner@apple.com>

        [ Mac wk1 Release ] imported/w3c/web-platform-tests/html/user-activation/activation-trigger-pointerevent.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=236126

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2022-02-23  Robert Jenner  <Jenner@apple.com>

        Unreviewed, reverting r290351 and r290404.

        Broke the build after revert of initial commit (r290348)
        Rebases no longer needed due to revert

        Reverted changesets:

        "Use of showModalDialog should appear as a warning in WI
        console"
        https://bugs.webkit.org/show_bug.cgi?id=237046
        https://commits.webkit.org/r290351

        "Use of showModalDialog should appear as a warning in WI
        console"
        https://bugs.webkit.org/show_bug.cgi?id=237046
        https://commits.webkit.org/r290404

2022-02-23  Robert Jenner  <Jenner@apple.com>

        Use of showModalDialog should appear as a warning in WI console
        https://bugs.webkit.org/show_bug.cgi?id=237046

        Unreviewed test gardening. Rebase for wk1 mac and Windows tests.

        * platform/mac-wk1/fast/events/beforeunload-showModalDialog-expected.txt: Added.
        * platform/mac-wk1/fast/events/pagehide-showModalDialog-expected.txt: Added.
        * platform/mac-wk1/fast/events/unload-showModalDialog-expected.txt: Added.
        * platform/wincairo-wk1/fast/events/beforeunload-showModalDialog-expected.txt: Added.
        * platform/wincairo-wk1/fast/events/pagehide-showModalDialog-expected.txt: Added.
        * platform/wincairo-wk1/fast/events/unload-showModalDialog-expected.txt: Added.

2022-02-23  J Pascoe  <j_pascoe@apple.com>

        [WebAuthn] Improve error message for missing pubKeyCredParams
        https://bugs.webkit.org/show_bug.cgi?id=235421
        rdar://87884875

        Reviewed by Brent Fulgham.

        Update test to reflect new error message.

        * http/wpt/webauthn/public-key-credential-create-failure.https.html:

2022-02-23  Alan Bujtas  <zalan@apple.com>

        [Subpixel] imported/w3c/web-platform-tests/css/css-flexbox/auto-margins-001.html fails at certain font sizes
        https://bugs.webkit.org/show_bug.cgi?id=217643
        <rdar://problem/70464703>

        Unreviewed gardening.

        * platform/ios-simulator-wk2/TestExpectations: It must have progressed at some point.

2022-02-23  Robert Jenner  <Jenner@apple.com>

        [ Mac EWS ] imported/w3c/web-platform-tests/workers/semantics/multiple-workers/004.html is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=237095

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Setting [ Pass Failure ] expectations for flaky test failure that is slowing down EWS.

2022-02-23  Jon Lee  <jonlee@apple.com>

        Unreviewed gardening for GPU Process bot.

        * imported/blink/svg/paintorder/paintorder.svg:

2022-02-23  Jon Lee  <jonlee@apple.com>

        Test gardening for [CSS Blending] Non-separable blend modes don't work
        https://bugs.webkit.org/show_bug.cgi?id=131354

        Unreviewed.
        * TestExpectations:

2022-02-23  Andres Gonzalez  <andresg_22@apple.com>

        Fix for assert crash in AccessibilityRenderObject::visiblePositionForIndex.
        https://bugs.webkit.org/show_bug.cgi?id=236795
        rdar://89025180

        Reviewed by Chris Fleizach.

        * accessibility/native-text-control-attributed-string-expected.txt: Added.
        * accessibility/native-text-control-attributed-string.html: Added.

2022-02-23  Alejandro G. Castro  <alex@igalia.com>

        Unreviewed test gardening.

        These tests had incorrect expected results with failing tests for
        glib.

        * platform/glib/TestExpectations:
        * platform/glib/webgl/1.0.3/conformance/context/context-lost-restored-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/extensions/oes-texture-half-float-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/extensions/webgl-compressed-texture-s3tc-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/extensions/webgl-compressed-texture-size-limit-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/misc/webgl-specific-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/renderbuffers/framebuffer-object-attachment-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/rendering/point-no-attributes-expected.txt: Removed.
        * platform/glib/webgl/1.0.3/conformance/textures/texture-copying-feedback-loops-expected.txt: Removed.

2022-02-23  Kimmo Kinnunen  <kkinnunen@apple.com>

        Crash when calling WEBGL_lose_context.loseContext() after the context has been lost
        https://bugs.webkit.org/show_bug.cgi?id=236966

        Reviewed by Dean Jackson.

        * webgl/lose-context-after-context-lost-expected.txt: Added.
        * webgl/lose-context-after-context-lost.html: Added.

2022-02-23  Youenn Fablet  <youenn@apple.com>

        Enable WebRTCRemoteVideoFrameEnabled by default in WebKitTestRunner
        https://bugs.webkit.org/show_bug.cgi?id=236969

        Reviewed by Eric Carlson.

        Disable WebRTCRemoteVideoFrameEnabled for those two tests until we figure out why they fail more with this option.

        * fast/mediastream/getUserMedia-to-canvas-1.html:
        * fast/mediastream/getUserMedia-to-canvas-2.html:

2022-02-22  Chris Dumez  <cdumez@apple.com>

        http/wpt/push-api/onpush-disabled.html fails
        https://bugs.webkit.org/show_bug.cgi?id=236874
        <rdar://problem/89176154>

        Reviewed by Youenn Fablet.

        Unskip test that should no longer be flaky.

        * TestExpectations:

2022-02-22  Tim Nguyen  <ntim@apple.com>

        Use of showModalDialog should appear as a warning in WI console
        https://bugs.webkit.org/show_bug.cgi?id=237046

        Reviewed by Devin Rousso and Darin Adler.

        Test gardening to take in account new console warning.

        * fast/animation/request-animation-frame-during-modal-expected.txt:
        * fast/dom/Window/open-window-min-size-expected.txt:
        * fast/events/show-modal-dialog-onblur-onfocus-expected.txt:
        * http/tests/cookies/document-cookie-after-showModalDialog-expected.txt:
        * http/tests/security/navigate-when-restoring-cached-page-expected.txt:
        * http/tests/security/showModalDialog-sync-cross-origin-page-load2-expected.txt:

2022-02-22  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed test gardening for rdar://86037417.

        * platform/mac-wk2/TestExpectations:

2022-02-22  Frédéric Wang  <fwang@igalia.com>

        null ptr deref via WebXRSystem::requestSession
        https://bugs.webkit.org/show_bug.cgi?id=235916

        Reviewed by Dean Jackson.

        Add non-regression test.

        * webxr/xr-requestSession-crash-expected.txt: Added.
        * webxr/xr-requestSession-crash.html: Added.

2022-02-22  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] Initial MediaRecorder implementation
        https://bugs.webkit.org/show_bug.cgi?id=236558

        Reviewed by Xabier Rodriguez-Calvar.

        Flag the remaining MediaRecorder test failures. Those will be adressed in follow-up patches.

        * http/wpt/mediarecorder/pause-recording.html:
        * platform/glib/TestExpectations:

2022-02-22  Kate Cheney  <katherine_cheney@apple.com>

        Authenticated encryption console logging causing performance regressions
        https://bugs.webkit.org/show_bug.cgi?id=236987
        <rdar://problem/89108253>

        Reviewed by Chris Dumez.

        * crypto/subtle/aes-cbc-cfb-decrypt-malformed-parameters-expected.txt:
        * crypto/subtle/aes-cbc-cfb-encrypt-malformed-parameters-expected.txt:
        * crypto/subtle/aes-cbc-generate-key-encrypt-decrypt-expected.txt:
        * crypto/subtle/aes-cbc-import-key-decrypt-expected.txt:
        * crypto/subtle/aes-cbc-import-key-encrypt-expected.txt:
        * crypto/subtle/aes-ctr-encrypt-malformed-parameters-expected.txt:
        * crypto/subtle/aes-ctr-generate-key-encrypt-decrypt-expected.txt:
        * crypto/subtle/aes-ctr-import-key-encrypt-expected.txt:
        * platform/glib/crypto/subtle/aes-cbc-cfb-decrypt-malformed-parameters-expected.txt:
        * platform/glib/crypto/subtle/aes-cbc-cfb-encrypt-malformed-parameters-expected.txt:

2022-02-22  Youenn Fablet  <youenn@apple.com>

        http/wpt/mediarecorder/mute-tracks.html fails with WebRTCRemoteVideoFrameEnabled=true
        https://bugs.webkit.org/show_bug.cgi?id=237021

        Reviewed by Kimmo Kinnunen.

        * http/wpt/mediarecorder/mute-tracks.html:

2022-02-22  Tim Nguyen  <ntim@apple.com>

        Make pointer-events checks for SVG take in account inert subtrees
        https://bugs.webkit.org/show_bug.cgi?id=235836

        Reviewed by Antti Koivisto.

        iOS doesn't support test_actions, so it needs different baselines.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-svg-hittest-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt: Added.

2022-02-22  Jonathan Bedard  <jbedard@apple.com>

        Unreviewed, reverting r290220.

        Tests still fail with with fuzzy data

        Reverted changeset:

        "Test gardening for [CSS Blending] Non-separable blend modes
        don't work"
        https://bugs.webkit.org/show_bug.cgi?id=131354
        https://commits.webkit.org/r290220

2022-02-22  Asumu Takikawa  <asumu@igalia.com>

        Initial support for Wasm/ESM-integration in the WebCore module loader
        https://bugs.webkit.org/show_bug.cgi?id=236268

        Reviewed by Yusuke Suzuki.

        Add Wasm module MIME type for HTTP tests, and add tests.

        * http/conf/mime.types:
        * http/tests/wasm/resources/empty-module.wasm: Added.
        * http/tests/wasm/wasm-esm-disabled-with-setting-expected.txt: Added.
        * http/tests/wasm/wasm-esm-disabled-with-setting.html: Added.

2022-02-21  Cameron McCormack  <heycam@apple.com>

        Make input element UA shadow tree creation lazy
        https://bugs.webkit.org/show_bug.cgi?id=236747

        Reviewed by Aditya Keerthi.

        * fast/forms/lazy-shadow-tree-creation-expected.html: Added.
        * fast/forms/lazy-shadow-tree-creation.html: Added.
        * fast/forms/lazy-shadow-tree-creation.js: Added.
        (supportsType):
        (makeAndAppendInput):

2022-02-21  Jon Lee  <jonlee@apple.com>

        Unreviewed gardening for the GPU Process bots.
        * css3/color-filters/color-filter-text-decoration-shadow.html:
        * fast/gradients/conic-gradient-alpha-unpremultiplied.html:
        * fast/gradients/conic-gradient-alpha.html:
        * fast/gradients/linear-two-hints-angle.html:
        * fast/scrolling/overflow-inside-foreignobject.html:
        * gpu-process/TestExpectations:
        * imported/blink/svg/custom/crisp-edges-leak.svg:
        * platform/ios/TestExpectations:

2022-02-21  Jon Lee  <jonlee@apple.com>

        Add test name to the image diff template
        https://bugs.webkit.org/show_bug.cgi?id=237003

        Reviewed by Sam Weinig.

        Include the test name in the page. Workflow to update fuzzy match data becomes easier to copy-paste the name there instead of from the location bar.
        * fast/harness/image-diff-template-expected.txt:
        * fast/harness/image-diff-template.html:

== Rolled over to ChangeLog-2022-02-22 ==
